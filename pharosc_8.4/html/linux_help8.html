<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>Spice</TITLE>
	<LINK REL=HOME HREF="../index.html">
	<LINK REL=UP HREF="../index.html">
	<LINK REL=PREV HREF="linux_help7.html">
	<LINK REL=NEXT HREF="linux_help9.html">
	<LINK REL=AUTHOR TITLE="Graham Petley" HREF="mailto:graham.petley@vlsitechnology.org">
	<META NAME=DESCRIPTION CONTENT="Help on using the vsclib under Linux.">
	<META NAME="GENERATOR" CONTENT="La mano di Petlio">
	<META NAME="AUTHOR" CONTENT="Graham Petley">
	<META NAME="CREATED" CONTENT="20040430;20000000">
	<META NAME="CHANGED" CONTENT="20070825;11400000">
	<LINK REL="icon" HREF="logo.gif" TYPE="image/x-icon">
	<LINK REL="STYLESHEET" HREF="moslibraries.css" TYPE="text/css">
</HEAD>
<BODY>
<DIV CLASS="pagebox">
<TABLE CLASS="nav" BORDER=0>
<TR>
<TD>
<A HREF="../index.html">vlsitechnology.org</A>
<A HREF="linux_help8.html">/Linux help/Spice characterisation</A></TD>
<TD CLASS="nav">
<UL CLASS="dir">
<LI><A HREF="../index.html">UP</A></LI>
<LI><A HREF="linux_help7.html">PREV</A></LI>
<LI><A HREF="linux_help9.html">NEXT</A></LI>
</UL></TD></TR>
<TR><TD COLSPAN=2>
<H1 CLASS="content">Spice characterisation</H1>
</TD></TR></TABLE>

<DIV CLASS="col_1">
<P>&nbsp;<BR>Linux help
<UL CLASS="links">
<LI><A HREF="linux_help1.html">tar download</A></LI>
<LI><A HREF="linux_help2.html">viewing layout</A></LI>
<LI><A HREF="linux_help3.html">Graal layout</A></LI>
<LI><A HREF="linux_help4.html">Graal rule sets</A></LI>
<LI><A HREF="linux_help5.html">Magic layout</A></LI>
<LI><A HREF="linux_help6.html"><TT>CIF</TT> layout</A></LI>
<LI><A HREF="linux_help7.html"><TT>GDS</TT> layout</A></LI>
<LI><A HREF="linux_help8.html" CLASS="current">Spice char.</A></LI>
<LI><A HREF="linux_help9.html">new cell char.</A></LI>
</UL>
<P>&nbsp;<BR>Windows help
<UL CLASS="links">
<LI><A HREF="win_help1.html">Windows options</A></LI>
<LI><A HREF="win_help2.html">tar download</A></LI>
<LI><A HREF="win_help3.html">viewing layout</A></LI>
<LI><A HREF="win_help4.html">Spice char.</A></LI>
</UL>
<P>&nbsp;<BR>Linux Live CD
<UL CLASS="links">
<LI><A HREF="livecd_help2.html">system config</A></LI>
<LI><A HREF="livecd_help3.html"><TT>gawk</TT> and <TT>awk</TT></A></LI>
<LI><A HREF="livecd_help3a.html">openmotif</A></LI>
<LI><A HREF="livecd_help4.html">add to panel</A></LI>
<LI><A HREF="livecd_help5.html">terminal app</A></LI>
<LI><A HREF="livecd_help6.html">window prefs</A></LI>
<LI><A HREF="livecd_help7.html">text editor</A></LI>
<LI><A HREF="livecd_help8.html">Gedit instances</A></LI>
<LI><A HREF="livecd_help9.html">startup window</A></LI>
<LI><A HREF="livecd_help10.html">unpacking library</A></LI>
<LI><A HREF="livecd_help11.html">running example</A></LI>
<LI><A HREF="livecd_help12.html">viewing layout</A></LI>
<LI><A HREF="livecd_help13.html">saving work</A></LI>
</UL>
</DIV>

<DIV CLASS="col_2">
<P CLASS="first">
The files for the Spice characterisation of the different
libraries in a generic 0.13&micro;m technology are in
<P>
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
pharosc/magic/spice_rgalib013 
pharosc/magic/spice_ssxlib013 
pharosc/magic/spice_sxlib013
pharosc/magic/spice_vgalib013 
pharosc/magic/spice_vsclib013 
pharosc/magic/spice_vxlib013</PRE></TD></TR></TABLE>
<P>
They have been put here because <A HREF="http://opencircuitdesign.com/magic">Magic</A>
has been used to extract the layout to a Spice subckt.
<P>
The characterisation is done in two steps.
The first is a Spice run of the CIR files in the
sub-directories. The second is an elaboration of
the data produced to write the
<A HREF="../synopsys/vsclib013.lib"><TT>vsclib013.lib</TT></A>
and other Synopsys Liberty format <TT>.LIB</TT> files,
the Alliance <TT>.VBE</TT> files and the web data sheets.
<P>
The Spice simulator used is
<A HREF="http://www.winspice.co.uk">Winspice</A>,
and the elaboration uses Unix scripts. Winspice runs in
Linux under the <A HREF="http://www.codeweavers.com">codeweavers</A>
software, and also with <A HREF="http://www.winehq.org">Wine</A>.
Unfortunately it doesn't run in a true batch mode,
popping up a window that scrolls data all the time.
<P>
The command<TT> allcells </TT>runs the
<A HREF="http://www.winspice.co.uk">winspice</A>
characterisation on all the cells and writes out a
Synopsys Liberty format <TT>.LIB</TT> file, Alliance <TT>VBE</TT> format
timing files and the web data book.
<P>
Individual functions can be characterised by entering the
function directory and running<TT> allfunction</TT>.
E.g. for the <B>aoi31</B>:
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
 $ cd aoi31   
 $ ./allaoi31 </PRE></TD></TR></TABLE>
<P>
You will need a command file called<TT> wspice3 </TT>on
your search path which calls the winspice executable in
batch mode. On my system, this is configured as below:
<P>
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
~ 9554$ which wspice3
/home/graham/bin/wspice3
~ 9555$ more /home/graham/bin/wspice3
#!/bin/bash
echo $1
nice -n 10 /home/graham/cxoffice/bin/wine --workdir $PWD c:\\winspice\\wspice3.exe -b $PWD/$1
date</PRE></TD></TR></TABLE>
<P>
Winspice in batch mode is called with <TT>nice</TT> in order
to lower the job's priority. I found that if not lowered,
the job could seriously interfere with interactive activities.<BR>
A copy of this file is in<TT> pharosc/bin </TT>as<TT> wspice3_linux</TT>.
</DIV>

<DIV CLASS="col_3pic">
<P>
Contents of the spice_vsclib013 directory.
<IMG SRC="../gif/magic_linuxdir.gif" NAME="magic spice dir" ALIGN=LEFT BORDER=0 ALT="magic spice dir" TITLE="magic spice dir">
</DIV>

</DIV>
<P></P>
<P></P>
<P></P>
</BODY>
</HTML>
