<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>Spice help</TITLE>
	<LINK REL=HOME HREF="../index.html">
	<LINK REL=UP HREF="../index.html">
	<LINK REL=PREV HREF="win_help3.html">
	<LINK REL=NEXT HREF="win_help4.html">
	<LINK REL=AUTHOR TITLE="Graham Petley" HREF="mailto:graham.petley@vlsitechnology.org">
	<META NAME=DESCRIPTION CONTENT="Help on using the vsclib under Windows.">
	<META NAME="GENERATOR" CONTENT="La mano di Petlio">
	<META NAME="AUTHOR" CONTENT="Graham Petley">
	<META NAME="CREATED" CONTENT="20040429;20400000">
	<META NAME="CHANGED" CONTENT="20070826;09000000">
	<LINK REL="icon" HREF="logo.gif" TYPE="image/x-icon">
	<LINK REL="STYLESHEET" HREF="moslibraries.css" TYPE="text/css">
</HEAD>
<BODY>
<DIV CLASS="pagebox">
<TABLE CLASS="nav" BORDER=0>
<TR>
<TD>
<A HREF="../index.html">vlsitechnology.org</A>
<A HREF="win_help1.html">/Windows help</A>
<A HREF="win_help4.html">/Spice characterisation</A></TD>
<TD CLASS="nav">
<UL CLASS="dir">
<LI><A HREF="../index.html">UP</A></LI>
<LI><A HREF="win_help3.html">PREV</A></LI>
<LI><A HREF="win_help4.html">NEXT</A></LI>
</UL></TD></TR>
<TR><TD COLSPAN=2>
<H1 CLASS="content">Spice characterisation</H1>
</TD></TR></TABLE>

<DIV CLASS="col_1">
<P>&nbsp;<BR>Linux help
<UL CLASS="links">
<LI><A HREF="linux_help1.html">tar download</A></LI>
<LI><A HREF="linux_help2.html">viewing layout</A></LI>
<LI><A HREF="linux_help3.html">Graal layout</A></LI>
<LI><A HREF="linux_help4.html">Graal rule sets</A></LI>
<LI><A HREF="linux_help5.html">Magic layout</A></LI>
<LI><A HREF="linux_help6.html"><TT>CIF</TT> layout</A></LI>
<LI><A HREF="linux_help7.html"><TT>GDS</TT> layout</A></LI>
<LI><A HREF="linux_help8.html">Spice char.</A></LI>
<LI><A HREF="linux_help9.html">new cell char.</A></LI>
</UL>
<P>&nbsp;<BR>Windows help
<UL CLASS="links">
<LI><A HREF="win_help1.html">Windows options</A></LI>
<LI><A HREF="win_help2.html">tar download</A></LI>
<LI><A HREF="win_help3.html">viewing layout</A></LI>
<LI><A HREF="win_help4.html" CLASS="current">Spice char.</A></LI>
</UL>
<P>&nbsp;<BR>Linux Live CD
<UL CLASS="links">
<LI><A HREF="livecd_help2.html">system config</A></LI>
<LI><A HREF="livecd_help3.html"><TT>gawk</TT> and <TT>awk</TT></A></LI>
<LI><A HREF="livecd_help3a.html">openmotif</A></LI>
<LI><A HREF="livecd_help4.html">add to panel</A></LI>
<LI><A HREF="livecd_help5.html">terminal app</A></LI>
<LI><A HREF="livecd_help6.html">window prefs</A></LI>
<LI><A HREF="livecd_help7.html">text editor</A></LI>
<LI><A HREF="livecd_help8.html">Gedit instances</A></LI>
<LI><A HREF="livecd_help9.html">startup window</A></LI>
<LI><A HREF="livecd_help10.html">unpacking library</A></LI>
<LI><A HREF="livecd_help11.html">running example</A></LI>
<LI><A HREF="livecd_help12.html">viewing layout</A></LI>
<LI><A HREF="livecd_help13.html">saving work</A></LI>
</UL>
</DIV>

<DIV CLASS="col_2">
<P CLASS="first">
The files for the Spice characterisation of the different
libraries in a generic 0.13&micro;m technology are in
<P>
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
pharosc_8.3/magic/spice_rgalib013 
pharosc_8.3/magic/spice_ssxlib013 
pharosc_8.3/magic/spice_sxlib013
pharosc_8.3/magic/spice_vgalib013 
pharosc_8.3/magic/spice_vsclib013 
pharosc_8.3/magic/spice_vxlib013</PRE></TD></TR></TABLE>
<P>
They have been put here because <A HREF="http://opencircuitdesign.com/magic">Magic</A>
has been used to extract the layout to a Spice subckt.
<P>
The characterisation is done in two steps.
The first is a Spice run of the <TT>CIR</TT> files in the
sub-directories. The second is an elaboration of
the data produced to write the
<A HREF="../synopsys/vsclib013.lib"><TT>vsclib013.lib</TT></A>
and other Synopsys Liberty format <TT>.LIB</TT> files,
the Alliance <TT>.VBE</TT> files and the web data sheets.
<P>
The Spice simulator used is
<A HREF="http://www.winspice.co.uk">Winspice</A>,
so this part runs fine under Windows. The elaboration uses
Unix scripts, so a program like <A HREF="http://www.cygwin.com"><TT>cygwin</TT></A>
must be installed for these to run.
<P>
I have used the following steps for Windows Spice characterisation
on a library on a USB stick.
(replace <TT>/f/pharosc_8.3</TT> by your library location).
These are commands entered into a <TT>cygwin</TT> window.
<OL>
<LI>Make sure that the Windows <TT>cmd.exe</TT> command is on the search
path
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
$ PATH=/c/WINDOWS/system32:$PATH</PRE></TD></TR></TABLE>

<LI>Copy the batch file <TT>wspice3.bat</TT> to <TT>wspice3</TT>,
edit so that it points to the location of your <TT>winspice</TT>
executable and add to the search path
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
$ cd /f/pharosc_8.3/bin
$ cp wspice3.bat wspice3
$ PATH=/f/pharosc_8.3/bin:$PATH</PRE></TD></TR></TABLE>

<LI>The contents of <TT>wspice3.bat</TT> are:
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
cmd /c "start /wait /min /low \
c:/WinSpice/wspice3.exe -b $1"</PRE></TD></TR></TABLE>
This will run the program <TT>wspice3.exe</TT> (make sure this points
to the location of your <TT>winspice</TT> program) in batch mode from
the Windows command line interpreter. The<TT> /min </TT>option
keeps the winspice program iconised. The<TT> /low </TT>option
keeps it at a low priority so that interactive work can still
be done. The<TT> /wait </TT>option makes sure that the next
steps aren't done until the <TT>winspice</TT> job has finished.

<LI>The cells for a function can be characterised by
entering the function directory and running <TT>allfunction</TT>.
E.g. for the <B>aoi31</B>:
<TABLE BGCOLOR="#E7FFE7">
<TR><TD>
<PRE>
$ cd /f/pharosc_8.3/magic/spice_vsclib013/aoi31   
$ ./allaoi31</PRE></TD></TR></TABLE>
This is a batch job so only the CPU activity will show
that the job is running until it completes.
</OL>
</DIV>

<DIV CLASS="col_3pic">
<P>
Contents of the spice_vsclib013 directory.
<IMG SRC="../gif/magic_spdir.gif" NAME="magic spice dir" ALIGN=LEFT BORDER=0 ALT="magic spice dir" TITLE="magic spice dir">
</DIV>

</DIV>
<P><BR>
<P><BR>
<P><BR>
</BODY>
</HTML>
